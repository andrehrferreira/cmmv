<!DOCTYPE html>
<html>
    <head>
        <title s-i18n="title">CMMV</title>
    </head>
    <body>
        <h1 s-i18n="todo"></h1>

        <div 
            :todolist="rpc.get('tasks')"
            @subscribe="rpc.event([
                'tasks:insert', 
                'tasks:update', 
                'tasks:delete'
            ])"
        >
            <div 
                :for="(item, key) in todolist"
                :key="key"
            >{{ item.label }}</div>
        </div>

        <div>
            <input :model="label">
            <button 
                s-i18n="add" 
                @click="rpc.add('tasks', { label })"
            ></button>
        </div>

        <script src="/assets/bundle.min.js"></script>
        <script>
            console.log(window.cmmv.contracts)
        </script>
        <script s-data="debug"></script>
    </body>
</html>