<p align="center">
  <a href="https://cmmv.io/" target="blank"><img src="https://raw.githubusercontent.com/cmmvio/docs.cmmv.io/main/public/assets/logo_CMMV2_icon.png" width="300" alt="CMMV Logo" /></a>
</p>
<p align="center">Contract-Model-Model-View (CMMV) <br/> ایجاد برنامه‌های مقیاس‌پذیر و ماژولار با استفاده از قراردادها.</p>
<p align="center">
    <a href="https://www.npmjs.com/package/@cmmv/core"><img src="https://img.shields.io/npm/v/@cmmv/core.svg" alt="نسخه NPM" /></a>
    <a href="https://github.com/cmmvio/cmmv/blob/main/LICENSE"><img src="https://img.shields.io/npm/l/@cmmv/core.svg" alt="مجوز بسته" /></a>
    <a href="https://dl.circleci.com/status-badge/redirect/circleci/QyJWAYrZ9JTfN1eubSDo5u/7gdwcdqbMYfbYYX4hhoNhc/tree/main" target="_blank"><img src="https://dl.circleci.com/status-badge/img/circleci/QyJWAYrZ9JTfN1eubSDo5u/7gdwcdqbMYfbYYX4hhoNhc/tree/main.svg" alt="CircleCI" /></a>
</p>

<p align="center">
  <a href="https://cmmv.io">مستندات</a> &bull;
  <a href="https://github.com/cmmvio/cmmv/issues">گزارش مشکل</a>
</p>

> این فایل به طور خودکار توسط **ChatGPT** ترجمه شده است.  
> مستندات اصلی به زبان‌های **انگلیسی و پرتغالی** نوشته شده است.  
> اگر متوجه خطایی در ترجمه شدید و به زبان فارسی مسلط هستید،  
> لطفاً بررسی کرده و یک **Pull Request (PR)** برای تصحیح آن ارسال کنید.  
> جامعه توسعه‌دهندگان از همکاری شما **سپاسگزار** خواهد بود! 🙌  

## توضیحات

**CMMV** (مدل-مدل-نمای قرارداد) یک انقلاب در توسعه برنامه‌های وب است که پارادایم‌ها را تغییر می‌دهد و روش ساخت، نگهداری و مقیاس‌بندی پروژه‌های دیجیتال را بازتعریف می‌کند. **CMMV** با الهام از بهترین روش‌ها و مفاهیم نوآورانه، قدرت قراردادها را برای تولید خودکار ساختارهای قوی و ایمن ترکیب می‌کند و پیچیدگی کد نویسی دستی را حذف کرده و تجربه توسعه‌ای بی‌نظیر ارائه می‌دهد.

تصور کنید یک پلتفرم که در آن تعریف قراردادها در **TypeScript** به قلب برنامه شما تبدیل شده و به طور خودکار **APIها، کنترلرها، نهادهای ORM** و حتی ارتباط از طریق **RPC باینری** را تولید می‌کند، همه این موارد با عملکرد بهینه و یکپارچگی عالی با فناوری‌های مدرن. **CMMV** نه تنها توسعه را سرعت می‌بخشد بلکه کیفیت و سازگاری کد را نیز تضمین کرده و خطاها و کارهای تکراری را به شدت کاهش می‌دهد.

علاوه بر این، **CMMV** یک **رابط واکنشی و سبک** ارائه می‌دهد که بر اساس **Vue 3** ساخته شده است اما قابلیت پشتیبانی از **React و Angular** را نیز دارد، همیشه با تمرکز بر **عملکرد بالا و سئو**. در **CMMV**، **فرانت‌اند** نه تنها یک **لایه نمایش** بلکه **بخشی پویا و هماهنگ با بک‌اند** است که در **زمان واقعی** به‌روزرسانی می‌شود.

چه توسعه‌دهنده‌ای با تجربه باشید یا تازه‌کار در برنامه‌نویسی، **CMMV** شما را قادر می‌سازد که **سیستم‌های قدرتمند، مقیاس‌پذیر و مدرن** بسازید و موانع فنی را حذف کنید تا خلاقیت و نوآوری در مرکز مسیر توسعه شما قرار گیرد. **CMMV بیش از یک فریمورک است؛ این یک روش جدید برای تفکر و ساخت آینده برنامه‌های وب است.**

## فلسفه

**CMMV** تلاش می‌کند تا **فرآیند توسعه را ساده کند**، با استفاده از **سیستم تایپ قوی و دکوراتورهای TypeScript**. این فریمورک نیاز به استفاده از **فریمورک‌های سنگین فرانت‌اند** را حذف می‌کند و بر **کنترل مستقیم داده‌ها و تعاملات** متمرکز است، در حالی که **انعطاف‌پذیری را از طریق طراحی ماژولار** حفظ می‌کند.

## ویژگی‌ها

- **توسعه مبتنی بر قرارداد:** از قراردادهای **TypeScript** برای تعریف **مدل‌ها، کنترلرها و موارد دیگر** استفاده کنید.
- **معماری ماژولار:** برنامه خود را با استفاده از **ماژول‌ها** بسازید و مدیریت و مقیاس‌بندی را آسان کنید.
- **پشتیبانی از RPC و REST:** **پشتیبانی یکپارچه** برای **RPC باینری از طریق WebSocket** و **APIهای REST سنتی**.
- **یکپارچگی با Express:** **هماهنگی کامل با Express** برای محیطی **پایدار و آشنا** در سمت سرور HTTP.
- **قابل گسترش:** **قابل سفارشی‌سازی بالا** و **آسان برای گسترش** با استفاده از ماژول‌ها و کامپوننت‌های شخصی‌سازی‌شده.

## راه‌اندازی با CLI

**CMMV** اکنون یک **CLI (رابط خط فرمان)** ارائه می‌دهد تا فرآیند **نصب و پیکربندی** را **ساده‌تر و سریع‌تر** کند.

برای **ایجاد یک پروژه جدید**، می‌توانید از دستور زیر استفاده کنید:

```bash
$ pnpm dlx @cmmv/cli@latest create <نام-پروژه>
```

این دستور شما را **گام به گام** در **فرآیند پیکربندی راهنمایی** می‌کند و درباره **ترجیحات شما** مانند **فعال‌سازی Vite، RPC، کش، نوع مخزن و تنظیمات نما** سؤال می‌کند (مثلاً Vue 3 یا Reactivity). سپس به **طور خودکار فایل‌ها و پوشه‌های موردنیاز را ایجاد کرده، وابستگی‌ها را تنظیم کرده و پروژه را پیکربندی می‌کند.**

## راه‌اندازی دستی

اگر **ترجیح می‌دهید پروژه را به صورت دستی تنظیم کنید**، همچنان می‌توانید **ماژول‌های مورد نیاز را به صورت جداگانه نصب کنید**:

```bash
$ pnpm add @cmmv/core @cmmv/http @cmmv/view reflect-metadata class-validator class-transformer fast-json-stringify
```

## شروع سریع

در اینجا یک **نمونه ساده** از نحوه ایجاد یک برنامه جدید **CMMV** آورده شده است:

```typescript
import { Application } from "@cmmv/core";
import { DefaultAdapter, DefaultHTTPModule } from "@cmmv/http";
import { ViewModule } from "@cmmv/view";
import { ApplicationModule } from "./app.module";

Application.create({
    httpAdapter: DefaultAdapter,    
    modules: [
        DefaultHTTPModule,                
        ViewModule,        
        ApplicationModule
    ],
    services: [Repository],
    contracts: [...]
});
```

# ویژگی‌ها

## 🟢 هسته (Core)
- [x] کنترل برنامه، بارگذاری قراردادها، مدل‌ها و تولید مدل‌ها
- [x] پایه‌ای برای ایجاد مفسرها (Transpilers)
- [x] انتزاع اصلی برای HTTP، WS، قراردادها و خدمات
- [x] پیاده‌سازی پایه برای کلاس Singleton
- [x] دکوراتورهای قرارداد، هوک‌ها، متادیتا و سرویس‌ها
- [x] اعتبارسنجی پیکربندی و کنترل دسترسی در تمام ماژول‌ها
- [x] سیستم هوک‌ها (Hooks)
- [x] نظارت و ثبت وقایع (Telemetry & Logging)
- [x] پایه‌ای برای ایجاد رجیسترها (Registries)

## 🔐 احراز هویت (Auth)
- [x] کنترل کلی دسترسی برنامه
- [x] ثبت‌نام و ورود کاربران محلی
- [ ] ورود از طریق ارائه‌دهنده (Google، Facebook و غیره)
- [x] پشتیبانی از reCAPTCHA
- [x] توکن تازه‌سازی برای تمدید نشست
- [x] پشتیبانی کامل از احراز هویت دو مرحله‌ای (2FA) با تولید و اعتبارسنجی QR-Code
- [x] کنترل نشست‌ها بر اساس اثر انگشت، IP و عامل کاربر (User-Agent)

## 🚀 کش (Cache)
- [x] بهینه‌سازی پاسخ‌های سیستم با استفاده از کش در حافظه (سازگار با Redis، Memcached، MongoDB یا فایل‌های باینری)
- [x] دکوراتورهای یکپارچه برای کنترلرها و دروازه‌ها
- [x] ادغام خودکار با قراردادها
- [x] API برای بازیابی، به‌روزرسانی یا حذف داده‌های کش شده

## 🌐 HTTP
- [x] ارائه API از طریق `@cmmv/server` یا سایر تطبیق‌دهنده‌ها مانند Express
- [x] تولید خودکار کنترلرها و خدمات
- [x] ادغام با `@cmmv/cache` و `@cmmv/auth`
- [x] پشتیبانی از Express Adapter
- [ ] پشتیبانی از Fastify Adapter

## 📡 پروتوباف (Protobuf)
- [x] تولید فایل‌های `.proto` برای ارتباطات RPC بر اساس قراردادها
- [x] تولید رابط‌ها و تعاریف نوع برای TypeScript
- [x] تولید قراردادهای JSON برای استفاده در فرانت‌اند
- [x] ارتباط بین قراردادها

## 🗄 مخزن (Repository)
- [x] یکپارچگی با SQL، MySQL، PostgreSQL، SQL Server، Oracle و MongoDB
- [x] ایجاد خودکار موجودیت‌ها برای TypeORM
- [x] ایجاد خودکار ایندکس‌ها
- [x] ایجاد خودکار روابط بین جداول
- [x] اعتبارسنجی داده‌ها
- [x] عملیات CRUD برای RPC و REST
- [x] فیلترهای جستجو (مرتب‌سازی، فیلتر بر اساس ID، صفحه‌بندی)
- [x] بازنویسی سرویس‌ها برای یکپارچگی مستقیم با مخزن داده‌ها
- [x] ادغام با `@cmmv/cache` و `@cmmv/auth`

## ⏳ زمان‌بندی (Scheduling)
- [x] دکوراتورهای ایجاد وظایف زمان‌بندی‌شده (Cron Jobs)
- [x] مدیریت وظایف از پیش زمان‌بندی‌شده

## 🎨 نما (View)
- [x] رندر سمت سرور (SSR) برای بهینه‌سازی SEO
- [x] قالب‌های پویا مشابه EJS
- [x] موتور نمایش (View Engine) سازگار با Express
- [x] پشتیبانی از بین‌المللی‌سازی (i18n)
- [x] امکان درج نماهای فرعی مستقیماً در HTML
- [x] مدیریت متادیتای پویا (اسکریپت‌ها، لینک‌ها، متا، هدر، عنوان)
- [x] فشرده‌سازی و بسته‌بندی CSS و جاوا اسکریپت
- [x] یکپارچگی شفاف با RPC

## 🔄 وب‌سوکت (WS - WebSocket)
- [x] تولید خودکار دروازه‌های ارتباطی RPC
- [x] انتزاع بسته‌بندی داده‌ها
- [x] پیاده‌سازی ارتباط WebSocket برای کلاینت و سرور

## 🧩 ماژول‌ها (Modules)
- [x] **Swagger**: فراهم‌سازی مستندات API با ادغام Swagger.
- [x] **Testing**: شامل تست‌های واحدی (Unit Tests)، تست S2S و Mocking.
- [x] **Elastic**: یکپارچگی با Elasticsearch برای مدیریت ایندکس‌ها و اسناد.
- [x] **Email**: ماژولی برای ارسال ایمیل با استفاده از SMTP یا AWS SES.
- [x] **Encryptor**: رمزگذاری مبتنی بر ECC، AES-256-GCM.
- [x] **Events**: معماری رویداد محور برای ارتباط یکپارچه بین بخش‌ها.
- [x] **Inspector**: ابزارهای اشکال‌زدایی (Debugging) و نظارت (Monitoring).
- [x] **Keyv**: یکپارچگی با پایگاه‌ داده‌های Key-Value مانند Redis و MongoDB.
- [x] **Normalizer**: ماژول تبدیل داده‌ها برای پردازش JSON، XML، YAML، CSV.
- [x] **Queue**: مدیریت صف‌های کار (Kafka، RabbitMQ، Redis).
- [x] **UI**: کامپوننت‌های UI برای توسعه برنامه‌های پویا.
- [x] **Vue**: امکان ادغام با Vue.js.